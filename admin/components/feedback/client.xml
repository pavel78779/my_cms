<?xml version="1.0" encoding="utf-8"?>
<component name="feedback">
    <section name="forms" title="Формы">
        <show title="Все формы">
            <ContentTable>
                <change_ordering disabled="disabled" />
                <columns>
                    <column title="Название" type="name" name="name"/>
                    <column title="ID" type="id" name="id"/>
                </columns>
            </ContentTable>
        </show>
        <new title="Создание новой формы" onsuccess="Форма &quot;%name%&quot; создана">
            <ContentForm>
                <fieldset title="Параметры формы">
                    <field title="Имя формы" type="text" name="name" required="required" />
                    <field title="E-mail получателя" type="text" name="addressee_email" required="required" tooltip="E-mail, на который будут приходить письма с формы" pattern="/^[-\w.]+@([A-z0-9][-A-z0-9]+\.)+[A-z]{2,4}$/" invalid_description="Неверный E-mail&lt;br /&gt;Образец: example@mail.ru"/>
                    <field title="Капча включена" type="switch" name="enable_captcha"/>

                    <field title="Поле для темы письма" type="comFeedbackFieldForSubjectOrSender" name="field_for_subject" />
                    <field title="Поле для отправителя" type="comFeedbackFieldForSubjectOrSender" name="field_for_sender" />

                    <field title="Текст перед формой" type="editor" name="text_before_form" />
                </fieldset>
                <!--<fieldset title="Параметры капчи">
                    <field title="Количество символов" type="number" name="count_chars_in_captcha" required="required" default="5" min="1" />
                </fieldset>-->
            </ContentForm>
        </new>
        <delete onsuccess="%count% форм%(а|ы|)% успешно удален%(а|ы|ы)%" confirm="При удалении формы удалятся и все ее поля. Удалить?" />
        <edit title="Редактирование формы" onsuccess="Форма &quot;%name%&quot; изменена">
        </edit>
    </section>
    <section name="fields" title="Поля форм">
        <show title="Поля форм">
            <ContentTable>
                <change_ordering group_by="form_id" />
                <columns>
                    <column title="Имя" type="name" name="name" />
                    <column title="Опубликовано" type="switch" name="published" />
                    <column title="Обязательное" type="switch" name="required" />
                    <column title="Форма" name="form_id" replaced="url:admin/index.php?com=feedback&amp;section=forms&amp;action=get&amp;fields=id,name"/>
                    <column title="Тип" name="type" replaced="textarea:Текстовая область, text:Текстовое поле" />
                    <column title="Порядок" type="ordering" name="ordering" />
                    <column title="ID" type="id" name="id" />
                </columns>
            </ContentTable>
        </show>
        <new title="Создание нового поля" onsuccess="Поле &quot;%name%&quot; создано">
            <ContentForm>
                <fieldset title="Параметры поля">
                    <field title="Имя поля" type="text" name="name" required="required" />
                    <field title="Форма" type="select" name="form_id" required="required">
                        <options from_url="admin/index.php?com=feedback&amp;section=forms&amp;action=get&amp;fields=name,id" />
                    </field>
                    <field title="Опубликовано" type="switch" name="published" required="required" />
                    <field title="Обязательное" type="switch" name="required" required="required" />
                    <field title="Тип" type="select" name="type" required="required" onchange="$(this).parents('form').find('textarea[name=select_options]').parents('tr').css('display',($(this).val()=='select'?'':'none'))">
                        <options>
                            <option title="текстовое поле" value="text" />
                            <option title="текстовая область" value="textarea" />
                            <option title="чекбокс" value="checkbox" />
                            <option title="список выбора" value="select" />
                        </options>
                    </field>
                    <field title="Опции для&lt;br&gt;списка выбора" tooltip="каждый с новой строки" name="select_options" type="textarea" rows="5" />
                    <field title="Подсказка" type="text" name="tooltip" />
                    <field title="Шаблон" type="text" name="pattern" />
                    <field title="Некорр. описание" type="text" name="invalid_description" />
                </fieldset>
            </ContentForm>
        </new>
        <delete onsuccess="%count% пол%(е|я|ей)% успешно удален%(о|ы|ы)%" confirm="Вы действительно хотите безвозвратно удалить выбранные поля?" />
        <edit title="Редактирование категории" onsuccess="Поле &quot;%name%&quot; изменено" />
    </section>
</component>